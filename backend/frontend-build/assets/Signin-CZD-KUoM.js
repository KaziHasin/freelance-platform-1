import{R as c,u as k,r as y,a as z,b as L,c as _,j as t,L as D}from"./index-BzeirQbh.js";import{u as R}from"./index.esm-ROoT7fyu.js";import{B}from"./Button-DAaJg7TO.js";import{F as j,a as w}from"./PhoneIcon-DLali0Q4.js";var O={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},v=c.createContext&&c.createContext(O),I=["attr","size","title"];function q(e,r){if(e==null)return{};var s=A(e,r),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function A(e,r){if(e==null)return{};var s={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(r.indexOf(n)>=0)continue;s[n]=e[n]}return s}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},u.apply(this,arguments)}function N(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),s.push.apply(s,n)}return s}function x(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?N(Object(s),!0).forEach(function(n){H(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):N(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function H(e,r,s){return r=T(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function T(e){var r=G(e,"string");return typeof r=="symbol"?r:r+""}function G(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,r);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function P(e){return e&&e.map((r,s)=>c.createElement(r.tag,x({key:s},r.attr),P(r.child)))}function V(e){return r=>c.createElement(W,u({attr:x({},e.attr)},r),P(e.child))}function W(e){var r=s=>{var{attr:n,size:a,title:i}=e,h=q(e,I),d=a||s.size||"1em",l;return s.className&&(l=s.className),e.className&&(l=(l?l+" ":"")+e.className),c.createElement("svg",u({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,n,h,{className:l,style:x(x({color:e.color||s.color},s.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),i&&c.createElement("title",null,i),e.children)};return v!==void 0?c.createElement(v.Consumer,null,s=>r(s)):r(O)}function $(e){return V({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(e)}const Z=()=>{var g,b;const e=k(),[r,s]=y.useState("email"),[n,a]=y.useState("password"),{toast:i}=z(),h=L(),{login:d,isLoading:l}=_(),C=((b=(g=h.state)==null?void 0:g.from)==null?void 0:b.pathname)||"/client",{register:f,handleSubmit:S,setError:E,formState:{errors:m,isSubmitting:K}}=R(),p=()=>{s(o=>o==="email"?"phone":"email")},F=async o=>{try{const M={email:r==="email"?o.email:void 0,phone:r==="phone"?o.phone:void 0,password:n==="password"?o.password:void 0,rememberMe:o.rememberMe};await d(o.email,o.password)?(i({title:"Login Succeed",description:"Login successfully",variant:"success"}),e(C,{replace:!0})):i({title:"Login failed",description:"Please check your credentials",variant:"error"})}catch{E("email",{type:"server",message:"Invalid credentials"})}};return t.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[t.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),t.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",t.jsx(D,{to:"/signup",className:"font-medium text-green-600 hover:text-green-500",children:"create a new account"})]})]}),t.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:t.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[t.jsxs("form",{onSubmit:S(F),className:"space-y-6",children:[t.jsxs("div",{className:"flex rounded-md shadow-sm",children:[t.jsx("button",{type:"button",onClick:()=>a("password"),className:n==="password"?"flex-1 py-2 px-4 text-sm font-medium rounded-l-md bg-green-600 text-white":"flex-1 py-2 px-4 text-sm font-medium rounded-l-md bg-white text-gray-700 hover:text-gray-500 border border-gray-300",children:"Password"}),t.jsx("button",{type:"button",onClick:()=>a("otp"),className:n==="otp"?"flex-1 py-2 px-4 text-sm font-medium rounded-r-md bg-green-600 text-white":"flex-1 py-2 px-4 text-sm font-medium rounded-r-md bg-white text-gray-700 hover:text-gray-500 border border-gray-300",children:"OTP"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:r,className:"block text-sm font-medium text-gray-700",children:r==="email"?"Email address":"Phone number"}),t.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[t.jsx("input",{type:r==="email"?"email":"tel",...f(r,{required:`${r} is required`}),id:r,className:"block w-full pr-10 border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm",placeholder:r==="email"?"you@example.com":"+1 (555) 000-0000"}),t.jsx("button",{type:"button",onClick:p,className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-500",children:r==="email"?t.jsx(j,{className:"h-5 w-5","aria-hidden":"true"}):t.jsx(w,{className:"h-5 w-5","aria-hidden":"true"})})]}),m.email&&t.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.email.message}),m.phone&&t.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.phone.message})]}),n==="password"&&t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),t.jsx("input",{id:"password",type:"password",...f("password",{required:"Password is required"}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm",placeholder:"Enter your password"}),m.password&&t.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.password.message})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{id:"rememberMe",type:"checkbox",...f("rememberMe"),className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),t.jsx("label",{htmlFor:"rememberMe",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),t.jsx("div",{className:"text-sm",children:t.jsx("a",{href:"#",className:"font-medium text-green-600 hover:text-green-500",children:"Forgot your password?"})})]}),t.jsx(B,{type:"submit",isLoading:l,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Sign in"})]}),t.jsxs("div",{className:"mt-6",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-0 flex items-center",children:t.jsx("div",{className:"w-full border-t border-gray-300"})}),t.jsx("div",{className:"relative flex justify-center text-sm",children:t.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),t.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[t.jsx("div",{children:t.jsxs("button",{type:"button",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[t.jsx($,{className:"h-5 w-5"}),t.jsx("span",{className:"ml-2",children:"Google"})]})}),t.jsx("div",{children:t.jsx("button",{type:"button",onClick:p,className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:r==="email"?t.jsxs(t.Fragment,{children:[t.jsx(j,{className:"h-5 w-5 text-gray-500"}),t.jsx("span",{className:"ml-2",children:"Phone"})]}):t.jsxs(t.Fragment,{children:[t.jsx(w,{className:"h-5 w-5 text-gray-500"}),t.jsx("span",{className:"ml-2",children:"Email"})]})})})]})]})]})})]})};export{Z as default};
