import{j as e,r as v,h as j,w as y,x as N,y as w,u as k}from"./index-BzeirQbh.js";import{E,c as D,f as A}from"./format-T9595B-1.js";import{S as P}from"./SelectBox-CUC6YG9y.js";import{T as h}from"./TextInput-zMPiYgPU.js";import{P as C}from"./PageLayout-BXdVDYeO.js";import{B as V}from"./Button-DAaJg7TO.js";import{T as R}from"./Tabs-CyEN0GLg.js";import{V as f}from"./index-BijUNQGw.js";import{F as L}from"./ArrowLeftIcon-HphO0TRb.js";const I=({data:l,isAdmin:s=!1,onStatusChange:r})=>{const{docUrl:d,docFile:o,idType:n,status:t,reviewedBy:a,reviewedAt:x}=l,m={PENDING:"bg-yellow-100 text-yellow-800",APPROVED:"bg-green-100 text-green-800",REJECTED:"bg-red-100 text-red-800"},u={"id-card":"ID Card","pan-card":"PAN Card",passport:"Passport","driving-license":"Driving License"},b=()=>{const i=d||o;if(!i)return null;const c=/\.(jpg|jpeg|png|gif)$/i.test(i),g=/\.pdf$/i.test(i),p=/\.(doc|docx)$/i.test(i);return c?e.jsx("img",{src:i,alt:u[n],className:"w-full h-64 object-cover rounded-lg"}):e.jsxs("div",{className:"flex flex-col items-center justify-center p-6 border rounded-lg bg-gray-50 dark:bg-gray-700",children:[e.jsx("svg",{className:"w-12 h-12 text-gray-400 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.4a1 1 0 00-.3-.7l-5.4-5.4A1 1 0 0012.6 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:g?"PDF Document":p?"Word Document":"File"}),e.jsx("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"mt-2 px-3 py-1 text-sm font-medium text-blue-600 hover:text-blue-800",children:"View / Download"})]})};return e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-md border border-gray-100 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:u[n]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsx("div",{children:b()}),e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Status"}),e.jsx("div",{className:`mt-1 ms-2 inline-flex items-center px-4 py-2 rounded-full text-sm font-medium ${m[t]}`,children:t})]}),a&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Reviewed by"}),e.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[a.avatar?e.jsx("img",{src:a.avatar,alt:a.name,className:"w-10 h-10 rounded-full"}):e.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:a.name.charAt(0)})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.name}),x&&e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:x})]})]})]}),s&&e.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[(t==="PENDING"||t==="REJECTED")&&e.jsx("button",{onClick:()=>r==null?void 0:r("APPROVED"),className:"px-3 py-1 text-sm rounded bg-green-600 text-white hover:bg-green-700",children:"Approve"}),(t==="PENDING"||t==="APPROVED")&&e.jsx("button",{onClick:()=>r==null?void 0:r("REJECTED"),className:"px-3 py-1 text-sm rounded bg-red-600 text-white hover:bg-red-700",children:"Reject"})]})]})]})]})};function B({title:l,titleId:s,...r},d){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":s},r),l?v.createElement("title",{id:s},l):null,v.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))}const F=v.forwardRef(B),T=({data:l})=>{const{profile:s,avatar:r,level:d,rating:o,isActive:n,assignedCount:t,lastAssignedAt:a}=l,x={FRESHER:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",MID:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",EXPERT:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"};return e.jsx("div",{className:"bg-white dark:bg-gray-800 p-8 mb-6 shadow-md border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[e.jsxs("div",{className:"w-full md:w-1/3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:r,alt:"Profile",className:"w-full aspect-square object-cover rounded-lg shadow-md"}),e.jsx("span",{className:`absolute top-3 right-3 px-3 py-1 rounded-full text-sm font-medium ${x[d]}`,children:d})]}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(F,{className:"h-5 w-5 text-yellow-400"}),e.jsx("span",{className:"ml-2 text-lg font-semibold",children:o.avg.toFixed(1)}),e.jsxs("span",{className:"ml-2 text-sm text-gray-500 dark:text-gray-400",children:["(",o.count," reviews)"]})]}),e.jsx("span",{className:`px-2 py-1 rounded text-sm ${n?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:n?"Active":"Inactive"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Projects Completed"}),e.jsx("span",{className:"font-medium",children:t})]}),a&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Last Project"}),e.jsx("span",{className:"font-medium",children:new Date(a).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Experience"}),e.jsx("span",{className:"font-medium",children:s.experienceYears?`${s.experienceYears} years`:"Not specified"})]})]})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Bio"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:s.bio||"No bio provided"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Skills"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.skills.map(m=>e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300 rounded-full text-sm",children:m.label},m._id))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Contact & Links"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.whatsapp&&e.jsxs("a",{href:`https://wa.me/${s.whatsapp}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-green-600 hover:text-green-700",children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),"WhatsApp"]}),s.linkedin&&e.jsxs("a",{href:s.linkedin,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-600 hover:text-blue-700",children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),"LinkedIn"]}),s.portfolio&&e.jsxs("a",{href:s.portfolio,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-purple-600 hover:text-purple-700",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}),"Portfolio"]})]})]})]})]})})},U=()=>{var i;const{id:l}=j(),{data:s,isLoading:r,isError:d,refetch:o}=y(l,{skip:!l}),n=[{label:"Manage Users",path:""},{label:"Developers",path:""},{label:"View Developer",path:""}],[t]=N(),[a]=w(),x=k(),m=async c=>{const g=c.target.value;try{await t({id:s._id,status:g}).unwrap(),console.log("Status updated successfully")}catch(p){console.error("Failed to update status",p)}},u=async(c,g)=>{try{await a({id:c,status:g}).unwrap(),o(),f.success(`Verification ${g.toLowerCase()} successfully`)}catch(p){f.error("Failed to update verification status"),console.error(p)}},b=[{label:"Basic Info",content:e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 mb-6 shadow-md border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Developer Details"}),e.jsxs(V,{variant:"outline-primary",size:"sm",onClick:()=>x("/users/Developers"),children:[e.jsx(L,{className:"h-4 w-4 me-1"}),"   Back"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsx(h,{label:"Name",value:(s==null?void 0:s.name)||"",readOnly:!0}),e.jsx(E,{label:"Email",value:(s==null?void 0:s.email)||"",readOnly:!0}),e.jsx(h,{label:"Phone",value:(s==null?void 0:s.phone)||"",readOnly:!0}),e.jsx(h,{label:"Provider",value:D(s==null?void 0:s.provider)||"",readOnly:!0}),e.jsx(h,{label:"Joined At",value:A(s==null?void 0:s.createdAt),readOnly:!0}),e.jsx(P,{label:"Status",value:(s==null?void 0:s.status)||"",options:[{label:"Active",value:"ACTIVE"},{label:"Inactive",value:"INACTIVE"}],onChange:m}),e.jsx(h,{label:"Role",value:(s==null?void 0:s.role)||"",readOnly:!0})]})]})},{label:"Profile",content:s!=null&&s.developer?e.jsx(T,{data:{profile:s.developer.profile,avatar:s.avatar,level:s.developer.level,rating:s.developer.rating,isActive:s.developer.isActive,assignedCount:s.developer.assignedCount,lastAssignedAt:s.developer.lastAssignedAt}}):e.jsx("div",{className:"bg-white dark:bg-gray-800 p-8 mb-6 shadow-md border border-gray-100 dark:border-gray-700",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No profile data available"})})},{label:"Verification",content:(i=s==null?void 0:s.developer)!=null&&i.verification?e.jsx(I,{data:s.developer.verification,isAdmin:!0,onStatusChange:c=>u(s==null?void 0:s.developer.id,c)}):e.jsx("div",{className:"bg-white dark:bg-gray-800 p-8 mb-6 shadow-md border border-gray-100 dark:border-gray-700",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No verification data available"})})}];return e.jsx(C,{title:"View Developer",breadcrumbs:n,children:e.jsx("div",{className:"mt-2",children:e.jsx(R,{tabs:b})})})};export{U as default};
