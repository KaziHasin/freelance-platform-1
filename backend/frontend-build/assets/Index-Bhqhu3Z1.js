import{R as p,j as e,d as b,r as u,u as f,v as j}from"./index-BzeirQbh.js";import{P as v}from"./PageLayout-BXdVDYeO.js";import{T as y}from"./Table-BuxUeY2K.js";import{D as N}from"./DeleteButton-CKeFKd-L.js";import{V as k}from"./ViewButton-CI_lZ7G8.js";import"./EyeIcon-FkDTazAn.js";const w=({onFilterChange:l})=>{const[a,n]=p.useState({search:"",status:""}),i=(t,r)=>{const o={...a,[t]:r};n(o),l(o)},c=a.search!==""||a.status!=="",d=()=>{const t={search:"",status:""};n(t),l(t)};return e.jsx("div",{className:"flex flex-col m-4 mx-2",children:e.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[e.jsx("div",{className:"flex-1 min-w-[200px]",children:e.jsx("input",{type:"text",placeholder:"Search by name or email...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:a.search,onChange:t=>i("search",t.target.value),"aria-label":"Search by name or email"})}),e.jsx("div",{className:"flex-1 min-w-[200px]",children:e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:a.status,onChange:t=>i("status",t.target.value),children:[e.jsx("option",{value:"",children:"Select Status"}),e.jsx("option",{value:"ACTIVE",children:"Active"}),e.jsx("option",{value:"INACTIVE",children:"Inactive"})]})}),c&&e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:d,className:"inline-flex items-center px-2 py-2 text-base text-white bg-red-600 hover:bg-red-700 transition-colors rounded",children:[e.jsx(b,{className:"w-4 h-4 mr-1"}),"Reset"]})})]})})},I=()=>{const[l,a]=u.useState(1),[n,i]=u.useState(10),[c,d]=u.useState({search:"",status:""}),t=f(),{data:r,isLoading:o,isError:m,refetch:C}=j({page:l,limit:n,search:c.search,status:c.status}),x=(r==null?void 0:r.items.map(s=>({id:s._id,name:s.name,email:s.email,role:s.role,status:s.status})))||[],g=[{header:"Name",accessor:"name"},{header:"Email",accessor:"email"},{header:"Status",accessor:s=>e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${s.status==="ACTIVE"?"bg-green-300 text-green-700 dark:bg-green-900/50 dark:text-green-300":"bg-red-300 text-red-700 dark:bg-red-900/50 dark:text-red-300"}`,children:s.status})},{header:"Actions",accessor:s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(k,{title:`View ${s.name}`,onClick:()=>t(`/users/Developers/${s.id}`)}),e.jsx(N,{title:`Delete ${s.name}`,onClick:()=>{}})]})}],h=[{label:"Manage Users",path:""},{label:"Developers",path:""}];return e.jsxs(v,{title:"Manage Developers",breadcrumbs:h,children:[e.jsx(w,{onFilterChange:d}),o?e.jsx("div",{className:"text-center py-10 text-gray-500",children:"Loading Developers..."}):m?e.jsx("div",{className:"text-center py-10 text-red-500",children:"Error loading Developers. "}):e.jsx(y,{columns:g,data:x,itemsPerPage:10,sortable:!0,currentPage:l,totalEntries:r==null?void 0:r.total,onPageChange:s=>a(s),onItemsPerPageChange:s=>{i(s),a(1)}})]})};export{I as default};
