import{R as p,j as e,d as b,r as u,u as f,l as j}from"./index-BzeirQbh.js";import{P as v}from"./PageLayout-BXdVDYeO.js";import{T as y}from"./Table-BuxUeY2K.js";import{E as N}from"./EditButton-D_VtM5FD.js";import{D as E}from"./DeleteButton-CKeFKd-L.js";import{B as k}from"./Button-DAaJg7TO.js";import{F as w}from"./PlusIcon-RDI3_RYo.js";const C=({onFilterChange:l,roles:o})=>{const[a,n]=p.useState({search:"",status:"",role:""}),t=(s,m)=>{const i={...a,[s]:m};n(i),l(i)},c=a.search!==""||a.status!==""||a.role!=="",d=()=>{const s={search:"",status:"",role:""};n(s),l(s)};return e.jsx("div",{className:"flex flex-col m-4 mx-2",children:e.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[e.jsx("div",{className:"flex-1 min-w-[200px]",children:e.jsx("input",{type:"text",placeholder:"Search by name or email...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:a.search,onChange:s=>t("search",s.target.value),"aria-label":"Search by name or email"})}),e.jsx("div",{className:"flex-1 min-w-[200px]",children:e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:a.status,onChange:s=>t("status",s.target.value),children:[e.jsx("option",{value:"",children:"Select Status"}),e.jsx("option",{value:"ACTIVE",children:"Active"}),e.jsx("option",{value:"INACTIVE",children:"Inactive"})]})}),e.jsx("div",{className:"flex-1 min-w-[200px]",children:e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:a.role,onChange:s=>t("role",s.target.value),children:[e.jsx("option",{value:"",children:"Select Role"}),o.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})}),c&&e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:d,className:"inline-flex items-center px-2 py-2 text-base text-white bg-red-600 hover:bg-red-700 transition-colors rounded",children:[e.jsx(b,{className:"w-4 h-4 mr-1"}),"Reset"]})})]})})},F=[{id:"ADMIN",name:"ADMIN"},{id:"CLIENT",name:"CLIENT"},{id:"DEVELOPER",name:"DEVELOPER"}],U=()=>{const[l,o]=u.useState(1),[a,n]=u.useState(10),[t,c]=u.useState({search:"",status:"",role:""}),d=f(),{data:s,isLoading:m,isError:i,refetch:I}=j({page:l,limit:a,search:t.search,status:t.status,role:t.role}),x=(s==null?void 0:s.items.map(r=>({id:r._id,name:r.name,email:r.email,role:r.role,status:r.status})))||[],h=[{header:"Name",accessor:"name"},{header:"Email",accessor:"email"},{header:"Role",accessor:"role"},{header:"Status",accessor:r=>e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${r.status==="ACTIVE"?"bg-green-300 text-green-700 dark:bg-green-900/50 dark:text-green-300":"bg-red-300 text-red-700 dark:bg-red-900/50 dark:text-red-300"}`,children:r.status})},{header:"Actions",accessor:r=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(N,{title:`Edit ${r.name}`,onClick:()=>{}}),e.jsx(E,{title:`Delete ${r.name}`,onClick:()=>{}})]})}],g=[{label:"Manage Users",path:""},{label:"All Users",path:""}];return e.jsxs(v,{title:"Manage Users",breadcrumbs:g,children:[e.jsx("div",{className:"flex justify-end items-start",children:e.jsx(k,{onClick:()=>d("/users/create"),leftIcon:e.jsx(w,{className:"w-4 h-4"}),children:"Add New"})}),e.jsx(C,{roles:F,onFilterChange:c}),m?e.jsx("div",{className:"text-center py-10 text-gray-500",children:"Loading users..."}):i?e.jsx("div",{className:"text-center py-10 text-red-500",children:"Error loading users. "}):e.jsx(y,{columns:h,data:x,itemsPerPage:10,sortable:!0,currentPage:l,totalEntries:s==null?void 0:s.total,onPageChange:r=>o(r),onItemsPerPageChange:r=>{n(r),o(1)}})]})};export{U as default};
